(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){e.exports=a(354)},182:function(e,t,a){},183:function(e,t,a){},312:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},350:function(e,t){},353:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),s=a.n(o),i=(a(182),a(183),a(23)),c=a(55),u=a(17),l=a(46),p=a(167),m=a(11),d={isAuth:!1,isFailed:!1,checkingUser:!1,signUpSuccess:!1,userData:{},error:null};var f={isLoaded:!1,isLoading:!1,data:{}};var y={waitingForOpponent:!1,dataIsLoading:!1,gameDataLoaded:!1,playerReady:!1,gameScore:0,gamers:null,opponent:null,winner:null,data:null};var h=Object(l.combineReducers)({gameData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DATA":return Object(m.a)({},e,{isLoading:!0,isLoaded:!1});case"GET_DATA_SUCCESS":return{isLoading:!1,isLoaded:!0,data:t.payload};case"EXIT_GAME":return f;default:return e}},userStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECKING_USER":return Object(m.a)({},e,{isFailed:!1,checkingUser:!0});case"USER_IS_AUTH":return Object(m.a)({},e,{checkingUser:!1,isAuth:!0,isFailed:!1,error:null,userData:t.payload});case"AUTH_FAILED":return Object(m.a)({},e,{checkingUser:!1,isFailed:!0,error:t.payload});case"REG_COMPLETE":return Object(m.a)({},e,{isFailed:!1,checkingUser:!1,signUpSuccess:!0,error:null});case"SCORE_UPDATED":return Object(m.a)({},e,{userData:Object(m.a)({},e.userData,{score:t.payload})});case"LOG_OUT":return d;default:return e}},multiplayerGameStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PLAYERS_LIST":return Object(m.a)({},e,{gamers:t.payload});case"WAITING_FOR_OPPONENT":return Object(m.a)({},e,{waitingForOpponent:!0});case"GOT_OPPONENT":return Object(m.a)({},e,{waitingForOpponent:!1,opponent:t.payload});case"OPPONENST_SCORE_UPDATE":return Object(m.a)({},e,{opponent:Object(m.a)({},e.opponent,{score:t.payload})});case"PLAYER_READY":return Object(m.a)({},e,{playerReady:!0});case"GET_DATA":return Object(m.a)({},e,{dataIsLoading:!0,gameDataLoaded:!1});case"UPDATE_SCORE":return Object(m.a)({},e,{gameScore:t.payload});case"DATA_SUCCESS":return Object(m.a)({},e,{waitingForOpponent:!1,dataIsLoading:!1,gameDataLoaded:!0,data:t.payload});case"GOT_A_WINNER":return Object(m.a)({},e,{winner:t.payload});case"REMOVE_OPPONENT":return Object(m.a)({},e,{opponent:null});case"GAME_CANCELED":return Object(m.a)({},e,{waitingForOpponent:!1,playerReady:!1,opponent:null});case"EXIT_GAME":return y;default:return e}}}),g=a(168);a(50);var E=a(12),b=a(13),v=a(14),O=a(18),S=a(15),w=a(19),k=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){console.log(Object({NODE_ENV:"production",PUBLIC_URL:""}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",{className:"main-logo"},"Know Your Movie"),r.a.createElement("div",{className:"main-text"},r.a.createElement("p",null,"Welcome to online interactive game"),r.a.createElement("p",null,"to choose the correct movie title"),r.a.createElement("p",null,"by image")),r.a.createElement("div",{className:"main-buttons"},r.a.createElement(E.a,{type:"primary",onClick:function(){return e.props.history.push("/single-game")}},"Single Game"),r.a.createElement(E.a,{type:"primary",onClick:function(){return e.props.history.push("/multiplayer-game")}},"Multiplayer Game")))}}]),t}(n.Component),j=(a(88),a(26)),A=(a(145),a(48)),C=(a(79),a(8)),N=a(25),T=a.n(N),D=(a(146),a(72)),_=a(38),I=a(91),G=a(130),x=a.n(G),U=new I.GraphQLClient("https://knowyourmovie.herokuapp.com/graphql",{headers:{}});function P(e){return{type:"AUTH_FAILED",payload:e}}function L(e){return{type:"USER_IS_AUTH",payload:e}}function R(e){return F.apply(this,arguments)}function F(){return(F=Object(_.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.request("query Score($id: Int!){\n            getUserData(id: $id){\n              score\n            }\n          }",{id:t});case 3:return a=e.sent,e.abrupt("return",a.getUserData.score);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}var M=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(_.a)(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return e.next=3,a.props.userAuth(n.username,n.password);case 3:a.props.isFailed&&a.props.error&&D.a.error(a.props.error,1.5),a.props.isAuth&&a.props.history.goBack();case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.checkingUser;return r.a.createElement(j.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(j.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(A.a,{prefix:r.a.createElement(C.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(j.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(A.a,{prefix:r.a.createElement(C.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(j.a.Item,null,r.a.createElement(E.a,{type:"primary",htmlType:"submit",disabled:t,className:"login-form-button",block:!0},"Log in ",t?r.a.createElement(C.a,{type:"loading"}):null),"Or ",r.a.createElement(i.b,{to:"/signup"},"register now!")))}}]),t}(n.Component),W=Object(u.b)(function(e){return{isAuth:e.userStatus.isAuth,isFailed:e.userStatus.isFailed,error:e.userStatus.error,checkingUser:e.userStatus.checkingUser}},function(e){return{userAuth:function(t,a){return e(function(e,t){return function(){var a=Object(_.a)(T.a.mark(function a(n){var r,o,s,i,c,u;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"CHECKING_USER"}),a.next=4,U.request("query Auth($user: String!, $password: String!){\n                userAuth(user: $user, password: $password){\n                  token\n                  score\n                  error\n                }\n              }",{user:e,password:t});case 4:if(r=a.sent,o=r.userAuth,s=o.error,i=o.token,c=o.score,!s){a.next=9;break}return n(P(s)),a.abrupt("return");case 9:localStorage.setItem("token",i),u=Object(m.a)({},x()(i),{score:c}),n(L(u)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}},a,null,[[0,14]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))}}})(Object(c.f)(M)),q=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){if(this.props.isAuth)return r.a.createElement(c.a,{to:"/main"});var e=j.a.create()(W);return r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"Sign In"),r.a.createElement(e,null))}}]),t}(n.Component),Y=Object(u.b)(function(e){return{isAuth:e.userStatus.isAuth}})(q),$=(a(307),a(174)),z=(a(309),a(56)),B=(a(312),function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.handleClick=function(e){console.log("click ",e),a.setState({collapsed:!a.state.collapsed})},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.checkToken()}},{key:"render",value:function(){var e=this.props,t=e.isAuth,a=e.userData;return r.a.createElement($.a.Header,{style:{width:"100%"}},r.a.createElement(z.b,{mode:"horizontal",theme:"dark",selectable:!1,style:{lineHeight:"64px"}},r.a.createElement(z.b.Item,{key:"main",className:"logo"},r.a.createElement(i.b,{to:"/"},"Know Your Movie")),r.a.createElement(z.b.Item,{key:"single-game"},r.a.createElement(i.b,{to:"/single-game"},"Single Game")),r.a.createElement(z.b.Item,{key:"multiplayer-game"},r.a.createElement(i.b,{to:"/multiplayer-game"},"Multiplayer Game")),t?r.a.createElement(z.b.Item,{key:"user",className:"user-auth",style:{float:"right",cursor:"default"}},a.username," : ",r.a.createElement("span",{className:"user-score"},a.score),r.a.createElement(E.a,{onClick:this.props.logOut,type:"primary"},"Log Out")):r.a.createElement(z.b.Item,{key:"auth",style:{float:"right"}},r.a.createElement(i.b,{to:"/auth"},"Log In"))))}}]),t}(n.Component)),H=Object(u.b)(function(e){return{isAuth:e.userStatus.isAuth,userData:e.userStatus.userData}},function(e){return{logOut:function(){return e(function(e){e({type:"LOG_OUT"}),localStorage.removeItem("token")})},checkToken:function(){return e(function(){var e=Object(_.a)(T.a.mark(function e(t){var a,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"CHECKING_USER"}),localStorage.token){e.next=4;break}return t(P()),e.abrupt("return");case 4:return a=x()(localStorage.token),e.next=7,R(a.userId);case 7:n=e.sent,t(L(Object(m.a)({},a,{score:n})));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}})(B),K=(a(151),a(98)),Q=(a(322),new I.GraphQLClient("https://knowyourmovie.herokuapp.com/graphql",{headers:{}}));var V,X=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(){var e=Object(_.a)(T.a.mark(function e(t,n){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return console.log("Received values of form: ",n),e.next=4,a.props.userSignup(n);case 4:a.props.isFailed&&D.a.error(a.props.error,1.5),a.props.signUpSuccess&&(D.a.success("Registration Succsess"),a.props.history.push("/main"));case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.props.isAuth&&this.props.history.push("/main")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.checkingUser;return r.a.createElement(j.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,className:"reg-form"}),r.a.createElement(j.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(A.a,null))),r.a.createElement(j.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(A.a.Password,null))),r.a.createElement(j.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(A.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(j.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(K.a,{title:"What do you want others to call you?"},r.a.createElement(C.a,{type:"question-circle-o"})))},e("nickname",{rules:[{required:!0,message:"Please input your nickname!"},{min:4,message:"Nickname must be 4 symbols minimum!"},{max:10,message:"Nickname must be 10 symbols maximum!"}]})(r.a.createElement(A.a,null))),r.a.createElement(j.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(E.a,{type:"primary",disabled:t,htmlType:"submit"},"Register ",t?r.a.createElement(C.a,{type:"loading"}):null)))}}]),t}(n.Component),J=Object(u.b)(function(e){return{isAuth:e.userStatus.isAuth,isFailed:e.userStatus.isFailed,error:e.userStatus.error,checkingUser:e.userStatus.checkingUser,signUpSuccess:e.userStatus.signUpSuccess}},function(e){return{userSignup:function(t){var a=t.nickname,n=t.password,r=t.email;return e(function(e,t,a){return function(){var n=Object(_.a)(T.a.mark(function n(r){var o,s;return T.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"CHECKING_USER"}),n.next=4,Q.request("mutation CreateUser($nickname: String!, $password: String!, $email: String!) {\n                createUser(user: $nickname, password: $password, email: $email) {\n                  user\n                  error\n                }\n              }",{nickname:e,password:t,email:a});case 4:if(o=n.sent,!(s=o.createUser.error)){n.next=9;break}return r({type:"AUTH_FAILED",payload:s}),n.abrupt("return");case 9:r({type:"REG_COMPLETE"}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}},n,null,[[0,12]])}));return function(e){return n.apply(this,arguments)}}()}(a,n,r))}}})(Object(c.f)(X)),Z=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){if(this.props.isAuth)return r.a.createElement(c.a,{to:"/main"});var e=j.a.create()(J);return r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",null,"The Registration Page"),r.a.createElement(e,null))}}]),t}(n.Component),ee=Object(u.b)(function(e){return{isAuth:e.userStatus.isAuth}})(Z),te=(a(323),a(95)),ae=a.n(te),ne=null,re=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={answered:!1},a.componentWillMount=function(){a.props.getMovieData(ne)},a.checkTheAnswer=function(e){a.setState({answered:!0});var t=a.props.gameData.movies.find(function(e){return!0===e.answer}),n=e.target.style;if(t.title===e.target.name)n.background="#179317",n.borderColor="green",a.props.updateScore(a.props.userId,ne);else{n.background="#ef2f2f",n.borderColor="red";var r=document.getElementsByClassName(t.mdb_id.toString());r[0].style.background="#179317",r[0].style.borderColor="green"}},a.nextQuestion=function(e){a.setState({answered:!1}),a.props.getMovieData(ne)},ne=ae.a.connect("https://knowyourmovie.herokuapp.com"),a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentWillUnmount",value:function(){ne.disconnect()}},{key:"render",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.isLoaded,o=t.gameData;return a?r.a.createElement("div",null,r.a.createElement(C.a,{type:"loading",style:{fontSize:"50px",color:"#00305e"}})):n&&o?r.a.createElement("article",{className:"game-area"},r.a.createElement("h1",null,"Choose the correct movie title"),r.a.createElement("div",{className:"game-img",style:{background:'url("'.concat(o.imageURL,'") no-repeat')}}),r.a.createElement("div",{className:"button-answers"},o.movies.map(function(t){return r.a.createElement(E.a,{type:"primary",disabled:e.state.answered,key:t.mdb_id,className:t.mdb_id.toString(),name:t.title,onClick:e.checkTheAnswer},t.title)})),r.a.createElement(E.a,{style:{display:this.state.answered?"block":"none"},onClick:this.nextQuestion,className:"next-button"},"Next")):null}}]),t}(n.Component),oe=Object(u.b)(function(e){return{gameData:e.gameData.data,isLoading:e.gameData.isLoading,isLoaded:e.gameData.isLoaded,userId:e.userStatus.userData.userId,username:e.userStatus.userData.username}},function(e){return{getMovieData:function(t){return e(function(e){return function(t){t({type:"GET_DATA"}),e.emit("getGame",function(e){return t({type:"GET_DATA_SUCCESS",payload:e})})}}(t))},updateScore:function(t,a){return e(function(e,t){return function(a){t.emit("updateScore",e,function(e){return a({type:"SCORE_UPDATED",payload:e})})}}(t,a))}}})(re),se=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement("div",{className:"wrapper"},r.a.createElement(oe,null)):r.a.createElement(c.a,{to:"/auth"})}}]),t}(n.Component),ie=Object(u.b)(function(e){return{isAuth:e.userStatus.isAuth}})(se),ce=(a(353),null),ue=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={answered:!1},a.checkTheAnswer=function(e){a.setState({answered:!0});var t=a.props.gameData.movies.find(function(e){return!0===e.answer}),n=e.target.style;if(t.title===e.target.name)n.background="#179317",n.borderColor="green",n.color="white",a.props.updateScore(a.props.playerScore+10);else{n.background="#ef2f2f",n.borderColor="red",n.color="white";var r=document.getElementsByClassName(t.mdb_id.toString())[0];r.style.background="#179317",r.style.borderColor="green",r.style.color="white",a.props.updateScore(a.props.playerScore-5)}},a.nextQuestion=function(e){a.setState({answered:!1}),a.props.nextMovie(ce,a.props.playerScore)},a.gamerWinner=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Congratulations!")," ",r.a.createElement("p",null,"You are a winner! You got a 200 points."))},a.opponentWinner=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,e.opponent," is a winner")," ",r.a.createElement("p",null,"Better luck next time =("))},a.drawResult=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Its draw"),r.a.createElement("p",null,"Both got a 100 points."))},(ce=ae.a.connect("https://knowyourmovie.herokuapp.com")).emit("multiConnect",{username:a.props.username,userId:a.props.userId}),ce.on("gamers",function(e){return a.props.getPlayersList(e)}),ce.on("gotInvite",function(e){return a.props.gotInvite(e)}),ce.on("getGameTask",function(e){return a.props.movieData(e)}),ce.on("gotaWinner",function(e){return a.props.gotaWinner(e)}),ce.on("updateUserScore",function(e){return a.props.globalScoreUpdate(e)}),ce.on("opponentCanceled",function(){return a.props.canceledGame()}),a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentWillUnmount",value:function(){ce.disconnect(),this.props.exitGame()}},{key:"render",value:function(){var e=this,t=this.props,a=t.gamers,n=t.opponent,o=t.playerReady,s=t.gameData,i=t.dataIsLoading,c=t.waitingForOpponent,u=t.username,l=t.playerScore,p=t.winner;return a?o&&n&&!s?r.a.createElement("div",null,r.a.createElement(C.a,{type:"loading",style:{fontSize:"50px",color:"#00305e"}})):p?r.a.createElement("article",{className:"game-area"},p.draw?r.a.createElement(this.drawResult,null):p.username===u?r.a.createElement(this.gamerWinner,null):r.a.createElement(this.opponentWinner,{opponent:n.username}),r.a.createElement(E.a,{type:"primary",onClick:function(){return e.props.history.push("/main")}},"Main menu")):o&&n&&s?r.a.createElement("article",{className:"game-area"},r.a.createElement("div",{className:"game-info"},r.a.createElement("div",null,r.a.createElement("p",null,"Your score:"),r.a.createElement("p",{style:{fontSize:"20px"}},l)),r.a.createElement("div",null,r.a.createElement("p",null,"Game")," ",r.a.createElement("p",{style:{fontSize:"20px"}},s.gameNumber," of 10")),r.a.createElement("div",null,r.a.createElement("p",null,n.username),r.a.createElement("p",{style:{fontSize:"20px"}},n.score))),i?r.a.createElement(C.a,{type:"loading",style:{fontSize:"50px",color:"#00305e"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"game-img",style:{background:'url("'.concat(s.imageURL,'") 50% 50% no-repeat')}}),r.a.createElement("div",{className:"button-answers"},s.movies.map(function(t){return r.a.createElement(E.a,{type:"primary",disabled:e.state.answered||c,key:t.mdb_id,className:t.mdb_id.toString(),name:t.title,onClick:e.checkTheAnswer},t.title)}))),r.a.createElement(E.a,{type:"primary",style:{cursor:"pointer",display:this.state.answered||c?"block":"none"},disabled:c,onClick:this.nextQuestion,className:"next-button"},c?"Waiting for opponent answer...":"Next")):r.a.createElement("article",{className:"gamers-list"},r.a.createElement("h2",null,"Choose your opponent"),n?r.a.createElement("div",{style:{margin:"5px"}},r.a.createElement(E.a,{type:"primary",onClick:function(){return e.props.readyForGame(ce)}},"Accept ",n.username),r.a.createElement(E.a,{type:"primary",style:{float:"right"},onClick:function(){return e.props.removeOpponent(ce)}},"Dismiss")):null,c?r.a.createElement("div",null,r.a.createElement("span",null,"Waiting for opponent..."),r.a.createElement(E.a,{type:"primary",size:"small",style:{float:"right"},onClick:function(){return e.props.removeOpponent(ce)}},"Cancel")):null,1===a.length?r.a.createElement("p",{style:{fontSize:"16px"}},"There are no players online "):a.map(function(t){return r.a.createElement("div",{key:t.userId,style:{display:t.nick===u?"none":"block"}},t.nick,r.a.createElement(E.a,{type:"primary",disabled:t.ready||c||n||t.waiting,style:{float:"right",visibility:t.nick===u?"hidden":"visible",cursor:"pointer"},size:"small",onClick:function(){return e.props.invitePlayer(ce,t.id)}},"Invite"))})):r.a.createElement("div",null,r.a.createElement(C.a,{type:"loading",style:{fontSize:"50px",color:"#00305e"}}))}}]),t}(n.Component),le=Object(u.b)(function(e){return{gamers:e.multiplayerGameStatus.gamers,opponent:e.multiplayerGameStatus.opponent,userId:e.userStatus.userData.userId,username:e.userStatus.userData.username,playerReady:e.multiplayerGameStatus.playerReady,dataIsLoading:e.multiplayerGameStatus.dataIsLoading,gameData:e.multiplayerGameStatus.data,waitingForOpponent:e.multiplayerGameStatus.waitingForOpponent,playerScore:e.multiplayerGameStatus.gameScore,winner:e.multiplayerGameStatus.winner}},function(e){return{getPlayersList:function(t){return e(function(e){return function(t){t({type:"GET_PLAYERS_LIST",payload:e})}}(t))},invitePlayer:function(t,a){return e(function(e,t){return function(a){a({type:"WAITING_FOR_OPPONENT"}),e.emit("invite",t,function(e){}),e.emit("readyForGame"),a({type:"PLAYER_READY"})}}(t,a))},gotInvite:function(t){return e(function(e){return function(t){t({type:"GOT_OPPONENT",payload:e})}}(t))},readyForGame:function(t){return e(function(e){return function(t){t({type:"PLAYER_READY"}),e.emit("readyForGame")}}(t))},exitGame:function(){return e(function(e){e({type:"EXIT_GAME"})})},movieData:function(t){return e(function(e){var t=e.data,a=e.score;return function(e){a&&e({type:"OPPONENST_SCORE_UPDATE",payload:a}),e({type:"GET_DATA"}),e(function(e){return{type:"DATA_SUCCESS",payload:e}}(t))}}(t))},nextMovie:function(t,a){return e(function(e,t){return function(a){a({type:"WAITING_FOR_OPPONENT"}),e.emit("nextMovie",t)}}(t,a))},updateScore:function(t){return e(function(e){return function(t){t({type:"UPDATE_SCORE",payload:e})}}(t))},gotaWinner:function(t){return e(function(e){return function(t){t({type:"GOT_A_WINNER",payload:e})}}(t))},globalScoreUpdate:function(t){return e(function(e){return function(t){t({type:"SCORE_UPDATED",payload:e})}}(t))},removeOpponent:function(t){return e(function(e){return function(t){t({type:"REMOVE_OPPONENT"}),t({type:"GAME_CANCELED"}),e.emit("cancelGame")}}(t))},canceledGame:function(){return e(function(e){e({type:"GAME_CANCELED"})})}}})(Object(c.f)(ue)),pe=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement("div",{className:"wrapper"},r.a.createElement(le,null)):r.a.createElement(c.a,{to:"/auth"})}}]),t}(n.Component),me=Object(u.b)(function(e){return{isAuth:e.userStatus.isAuth}})(pe),de=Object(l.createStore)(h,V,Object(g.composeWithDevTools)(Object(l.applyMiddleware)(p.a)));de.subscribe(function(){de.getState()});var fe=function(){return r.a.createElement(i.a,null,r.a.createElement(u.a,{store:de},r.a.createElement(H,null),r.a.createElement(c.d,null,r.a.createElement(c.a,{from:"/",to:"/main",exact:!0}),r.a.createElement(c.b,{path:"/main",component:k}),r.a.createElement(c.b,{path:"/auth",component:Y}),r.a.createElement(c.b,{path:"/signup",component:ee}),r.a.createElement(c.b,{path:"/single-game",component:ie}),r.a.createElement(c.b,{path:"/multiplayer-game",component:me}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[177,1,2]]]);
//# sourceMappingURL=main.9b8671ce.chunk.js.map