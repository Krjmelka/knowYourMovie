{"version":3,"sources":["store/redusers/user.js","store/redusers/game.js","store/redusers/multiplayerGame.js","store/redusers/index.js","pages/Main.js","store/actions/auth.js","pages/components/AuthForm/AuthForm.js","pages/Auth.js","pages/components/NavBar/NavBar.js","store/actions/signup.js","store/configureStore.js","pages/components/RegForm/RegForm.js","pages/Register.js","pages/components/GameArea/GameArea.js","store/actions/game.js","pages/Game.js","pages/components/CoopGameArea/CoopGameArea.js","store/actions/multiplayerGame.js","pages/MultiplayerGame.js","App.js","serviceWorker.js","index.js"],"names":["initialState","isAuth","isFailed","checkingUser","signUpSuccess","userData","error","gameState","isLoaded","isLoading","data","waitingForOpponent","dataIsLoading","gameDataLoaded","playerReady","gameScore","gamers","opponent","winner","combineReducers","gameData","state","arguments","length","undefined","action","type","Object","objectSpread","payload","userStatus","score","multiplayerGameStatus","MainPage","console","log","process","_this","this","react_default","a","createElement","className","es_button","onClick","props","history","push","Component","gql","GraphQLClient","headers","authFailed","getUserScore","_callee3","id","res","regenerator_default","wrap","_context3","prev","next","request","sent","abrupt","getUserData","t0","stop","AuthForm","handleSubmit","e","preventDefault","form","validateFields","_ref","asyncToGenerator","mark","_callee","err","values","_context","userAuth","username","password","message","goBack","_x","_x2","apply","getFieldDecorator","es_form","onSubmit","Item","rules","required","input","prefix","icon","style","color","placeholder","htmlType","disabled","block","react_router_dom","to","connect","dispatch","user","_res$userAuth","token","localStorage","setItem","jwtDecode","withRouter","AuthPage","react_router","MainAuthForm","create","NavBar","collapsed","handleClick","setState","checkToken","_this$props","layout","Header","width","menu","mode","theme","selectable","lineHeight","key","float","cursor","logOut","removeItem","_ref2","_callee2","_context2","userId","RegForm","confirmDirty","validateFieldsAndScroll","userSignup","success","handleConfirmBlur","value","target","compareToFirstPassword","rule","callback","getFieldValue","validateToNextPassword","force","assign","labelCol","xs","span","sm","wrapperCol","label","hasFeedback","validator","Password","onBlur","tooltip","title","min","max","offset","nickname","email","createUser","RegPage","MainRegForm","socket","GameArea","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","answered","componentWillMount","getMovieData","checkTheAnswer","answer","movies","find","item","btnAnswer","name","background","borderColor","updateScore","correctButton","document","getElementsByClassName","mdb_id","toString","nextQuestion","io","disconnect","_this2","fontSize","concat","imageURL","map","display","emit","GamePage","components_GameArea_GameArea","CoopGameArea","playerScore","nextMovie","gamerWinner","Fragment","opponentWinner","drawResult","on","getPlayersList","gotInvite","movieData","gotaWinner","globalScoreUpdate","canceledGame","exitGame","draw","gameNumber","margin","readyForGame","removeOpponent","size","nick","ready","waiting","visibility","invitePlayer","getDataSuccess","MultiGamePage","components_CoopGameArea_CoopGameArea","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","subscribe","getState","App","es","components_NavBar_NavBar","from","exact","path","component","MultiplayerGame","Boolean","window","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.9b8671ce.chunk.js","sourcesContent":["const initialState = {\n    isAuth: false,\n    isFailed: false,\n    checkingUser: false,\n    signUpSuccess: false,\n    userData: {},\n    error: null\n}\n\nexport function userStatus(state = initialState, action){\n    switch (action.type) {\n        case 'CHECKING_USER':\n            return {\n                ...state,\n                isFailed: false,\n                checkingUser: true\n            };\n        case 'USER_IS_AUTH':\n            return{\n                ...state,\n                checkingUser: false,\n                isAuth: true,\n                isFailed: false,\n                error: null,\n                userData: action.payload\n            }\n        case 'AUTH_FAILED':\n            return{\n                ...state,\n                checkingUser: false,\n                isFailed: true,\n                error: action.payload\n            }\n        case 'REG_COMPLETE':\n            return{\n                ...state,\n                isFailed: false,\n                checkingUser: false,\n                signUpSuccess: true,\n                error: null\n            }\n        case 'SCORE_UPDATED':\n            return{\n                ...state,\n                userData: {\n                    ...state.userData,\n                    score: action.payload\n                } \n            }\n        case 'LOG_OUT':\n            return initialState\n        default:\n            return state\n    }\n}\n","const gameState = {\n    isLoaded: false,\n    isLoading: false,\n    data: {},\n  }\nexport function gameData(state = gameState, action) {\n    switch (action.type) {\n        case 'GET_DATA':\n            return {\n                ...state,\n                isLoading: true,\n                isLoaded: false\n            };\n        case 'GET_DATA_SUCCESS':\n            return {\n                isLoading: false,\n                isLoaded: true,\n                data: action.payload\n            }\n        case 'EXIT_GAME' || 'LOG_OUT':\n            return gameState\n        default:\n            return state;\n    }\n}","const initialState ={\n    waitingForOpponent : false,\n    dataIsLoading: false,\n    gameDataLoaded : false,\n    playerReady: false,\n    gameScore: 0,\n    gamers : null,\n    opponent : null,\n    winner : null,\n    data : null    \n}\nexport function multiplayerGameStatus(state = initialState, action) {\n    switch (action.type) {\n        case 'GET_PLAYERS_LIST':\n            return{\n                ...state,\n                gamers: action.payload\n            }\n        case 'WAITING_FOR_OPPONENT':\n            return {\n                ...state,\n                waitingForOpponent: true,\n            }\n        case 'GOT_OPPONENT':\n            return {\n                ...state,\n                waitingForOpponent: false,\n                opponent: action.payload\n            }\n        case 'OPPONENST_SCORE_UPDATE':\n            return {\n                ...state,\n                opponent: {\n                    ...state.opponent,\n                    score: action.payload\n                }\n            }\n        case 'PLAYER_READY':\n            return {\n                ...state,\n                playerReady: true\n            }\n        case 'GET_DATA':\n            return {\n                ...state,\n                dataIsLoading: true,\n                gameDataLoaded: false\n            };\n        case 'UPDATE_SCORE':\n            return{\n                ...state,\n                gameScore: action.payload\n            }\n        case 'DATA_SUCCESS':\n            return {\n                ...state,\n                waitingForOpponent: false,\n                dataIsLoading: false,\n                gameDataLoaded: true,\n                data: action.payload\n            }\n        case 'GOT_A_WINNER': \n            return {\n                ...state,\n                winner: action.payload\n            }\n        case 'REMOVE_OPPONENT':\n            return {\n                ...state,\n                opponent: null\n            }\n        case 'GAME_CANCELED':\n            return {\n                ...state,\n                waitingForOpponent: false,\n                playerReady: false,\n                opponent: null\n            }\n        case 'EXIT_GAME' || 'LOG_OUT':\n            return initialState\n        default:\n            return state;\n    }\n}","import { combineReducers } from \"redux\";\nimport { userStatus } from \"./user\"\nimport { gameData } from \"./game\"\nimport { multiplayerGameStatus } from './multiplayerGame'\n\nexport default combineReducers({\n    gameData,\n    userStatus,\n    multiplayerGameStatus\n})","import React, { Component } from 'react'\nimport { Button } from 'antd'\n\nclass MainPage extends Component{\n    componentWillMount(){\n        console.log(process.env);\n    }\n    render(){\n        return(\n            <div className=\"wrapper\">\n                <h1 className=\"main-logo\">Know Your Movie</h1>\n                <div className=\"main-text\">\n                    <p>Welcome to online interactive game</p>\n                    <p>to choose the correct movie title</p>\n                    <p>by image</p>\n                </div>\n                <div className=\"main-buttons\">\n                    <Button type=\"primary\" onClick={() => this.props.history.push('/single-game')}>Single Game</Button>\n                    <Button type=\"primary\" onClick={() => this.props.history.push('/multiplayer-game')}>Multiplayer Game</Button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default MainPage","import { GraphQLClient } from 'graphql-request'\nimport jwtDecode from 'jwt-decode'\n\nconst gql = new GraphQLClient(\"https://knowyourmovie.herokuapp.com/graphql\", {headers: {}})\n\nfunction checkUser() {\n    return {\n        type: 'CHECKING_USER'\n    };\n}\nfunction authFailed(payload) {\n    return {\n        type: 'AUTH_FAILED',\n        payload\n    };\n}\nfunction userData(payload) {\n    return {\n        type: 'USER_IS_AUTH',\n        payload\n    }\n}\nfunction logOutUser(){\n    return {\n        type: 'LOG_OUT'\n    }\n}\n\nexport function userAuth(user, password) {\n    return async (dispatch) => {\n        try {\n            dispatch(checkUser())\n            let res = await gql.request(`query Auth($user: String!, $password: String!){\n                userAuth(user: $user, password: $password){\n                  token\n                  score\n                  error\n                }\n              }`,{user, password})\n            let { error, token, score } = res.userAuth\n            if (error){\n                dispatch(authFailed(error))\n                return\n            }\n            localStorage.setItem('token', token)\n            let data = {...jwtDecode(token), score}\n            dispatch(userData(data))\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n}\nexport function checkToken(){\n    return async (dispatch) => {\n        dispatch(checkUser())\n        \n        if(!localStorage.token){\n            dispatch(authFailed())\n            return\n        }\n        let data = jwtDecode(localStorage.token)\n        let score = await getUserScore(data.userId)\n        dispatch(userData({...data, score}))\n\n    }\n}\nasync function getUserScore(id){\n    try{\n        let res =  await gql.request(`query Score($id: Int!){\n            getUserData(id: $id){\n              score\n            }\n          }`,{id})\n        return res.getUserData.score\n    }\n    catch(err){\n        console.log(err);\n    }    \n}\nexport function logOut(){\n    return (dispatch) => {\n        dispatch(logOutUser())\n        localStorage.removeItem('token')\n    }\n}","import React, { Component } from 'react'\nimport { Form, Icon, Input, Button, message } from 'antd';\nimport { NavLink } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { userAuth } from '../../../store/actions/auth';\nimport { withRouter } from 'react-router-dom' \n\n\nclass AuthForm extends Component{\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.form.validateFields( async (err, values) => {\n          if (!err) {\n            await this.props.userAuth(values.username, values.password)\n            if(this.props.isFailed && this.props.error){\n              message.error(this.props.error, 1.5)\n            }\n            if(this.props.isAuth){\n              this.props.history.goBack()\n            }\n          }\n        });\n      };\n    render(){\n        \n        const { getFieldDecorator } = this.props.form\n        const { checkingUser } = this.props\n        return(\n            <Form onSubmit={this.handleSubmit} className=\"login-form\">\n        <Form.Item>\n          {getFieldDecorator('username', {\n            rules: [{ required: true, message: 'Please input your username!'}],\n          })(\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              placeholder=\"Username\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item>\n          {getFieldDecorator('password', {\n            rules: [{ required: true, message: 'Please input your Password!' }],\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              type=\"password\"\n              placeholder=\"Password\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item>        \n          <Button type=\"primary\" htmlType=\"submit\" disabled={checkingUser} className=\"login-form-button\" block={true}>\n            Log in {checkingUser? <Icon type=\"loading\" /> : null}\n          </Button>\n          Or <NavLink to=\"/signup\">register now!</NavLink>\n        </Form.Item>\n      </Form>\n    );\n        \n    }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuth: state.userStatus.isAuth,\n    isFailed: state.userStatus.isFailed,\n    error: state.userStatus.error,\n    checkingUser: state.userStatus.checkingUser\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    userAuth: (user, password) => dispatch(userAuth(user, password))\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(AuthForm))","import React, { Component } from 'react'\nimport AuthForm from './components/AuthForm/AuthForm'\nimport { Form } from 'antd'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nclass AuthPage extends Component{\n    \n    render(){\n        const { isAuth } = this.props\n        if (isAuth) {\n            return <Redirect to=\"/main\" />\n        }\n        const MainAuthForm = Form.create()(AuthForm)\n        return(\n           <div className=\"wrapper\">\n               <h1>Sign In</h1>\n               <MainAuthForm />\n           </div>\n    );\n        \n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n      isAuth: state.userStatus.isAuth\n    }\n  }\n \nexport default connect(mapStateToProps)(AuthPage)","import React, { Component } from 'react'\nimport { Menu, Button, Layout } from 'antd'\nimport { NavLink } from 'react-router-dom' \nimport { connect } from 'react-redux'\nimport './NavBar.css'\nimport { logOut, checkToken } from '../../../store/actions/auth'\n// const { SubMenu } = Menu\nclass NavBar extends Component{\n    state = {\n        collapsed: false,\n    }\n    componentDidMount(){\n        this.props.checkToken()\n    }\n    handleClick = e => {\n        console.log('click ', e);\n        this.setState({\n            collapsed: !this.state.collapsed,\n        })\n    }\n    render(){\n        const { isAuth, userData } = this.props\n        return(\n\n                <Layout.Header style={ { width: '100%'}}>\n                <Menu mode=\"horizontal\" theme=\"dark\" selectable = {false} style={{ lineHeight: '64px' }}>\n                    <Menu.Item key=\"main\" className=\"logo\">\n                        <NavLink to=\"/\">Know Your Movie</NavLink>\n                    </Menu.Item>\n                    <Menu.Item key=\"single-game\">\n                        <NavLink to=\"/single-game\">Single Game</NavLink>\n                    </Menu.Item>\n                    <Menu.Item key=\"multiplayer-game\">\n                        <NavLink to=\"/multiplayer-game\">Multiplayer Game</NavLink>\n                    </Menu.Item>\n                {isAuth ? \n                    <Menu.Item key=\"user\" className=\"user-auth\" style={{float: \"right\", cursor: \"default\"}}>\n                        {userData.username} : <span className=\"user-score\">{userData.score}</span>\n                        <Button onClick={this.props.logOut} type=\"primary\">\n                              Log Out\n                        </Button>\n                    </Menu.Item>\n                    :\n                    <Menu.Item key=\"auth\" style={{float: 'right'}}>\n                        <NavLink to=\"/auth\">Log In</NavLink>\n                    </Menu.Item>\n                }\n                </Menu>\n                </Layout.Header>\n\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n      isAuth: state.userStatus.isAuth,\n      userData: state.userStatus.userData\n    }\n  }\n  const mapDispatchToProps = (dispatch) => {\n    return {\n      logOut: () => dispatch(logOut()),\n      checkToken: () => dispatch(checkToken())\n    }\n  }\n  export default connect(mapStateToProps,mapDispatchToProps)(NavBar)","import { GraphQLClient } from 'graphql-request'\n\nconst gql = new GraphQLClient(\"https://knowyourmovie.herokuapp.com/graphql\", {headers: {}})\n\nfunction checkUser() {\n    return {\n        type: 'CHECKING_USER'\n    };\n}\nfunction authFailed(payload) {\n    return {\n        type: 'AUTH_FAILED',\n        payload\n    };\n}\nfunction signupComplete() {\n    return {\n        type: 'REG_COMPLETE'\n    };\n}\n\nexport function userSignup(nickname, password, email){\n    return async (dispatch) => {\n        try {\n            dispatch(checkUser())\n            let res = await gql.request(`mutation CreateUser($nickname: String!, $password: String!, $email: String!) {\n                createUser(user: $nickname, password: $password, email: $email) {\n                  user\n                  error\n                }\n              }`, {nickname, password, email})\n            let {error} = res.createUser\n            if(error){\n                dispatch(authFailed(error))\n                return\n            }\n            dispatch(signupComplete())\n        }\n        catch(err){\n            console.log(err)\n        }\n    }\n}\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\"\nimport rootReducer from \"./redusers\"\nimport { composeWithDevTools }  from 'redux-devtools-extension'\n\nexport default function configureStore(initialState){\n    return createStore( \n        rootReducer,\n        initialState,\n        composeWithDevTools(applyMiddleware(thunk))\n        \n    )\n}","import React, { Component } from 'react'\nimport { Form, Icon, Input, Button, Tooltip, message } from 'antd';\nimport { withRouter } from 'react-router-dom' \nimport { connect } from 'react-redux'\nimport \"./RegForm.css\"\nimport { userSignup } from '../../../store/actions/signup'\n\nclass RegForm extends Component{\n    state = {\n        confirmDirty: false\n    };\n    componentWillMount(){\n        if(this.props.isAuth){\n          this.props.history.push('/main')\n        }\n    }\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.form.validateFieldsAndScroll(async (err, values) => {\n          if (!err) {\n            console.log('Received values of form: ', values);\n            await this.props.userSignup(values)\n            if(this.props.isFailed){\n                message.error(this.props.error, 1.5)\n            }\n            if(this.props.signUpSuccess){\n                message.success('Registration Succsess')\n                this.props.history.push('/main')\n            }\n          }\n        });\n    };\n    handleConfirmBlur = e => {\n        const value = e.target.value;\n        this.setState({ confirmDirty: this.state.confirmDirty || !!value });\n    };\n    compareToFirstPassword = (rule, value, callback) => {\n        const form = this.props.form;\n        if (value && value !== form.getFieldValue('password')) {\n          callback('Two passwords that you enter is inconsistent!');\n        } else {\n          callback();\n        }\n    };\n    \n    validateToNextPassword = (rule, value, callback) => {\n        const form = this.props.form;\n        if (value && this.state.confirmDirty) {\n          form.validateFields(['confirm'], { force: true });\n        }\n        callback();\n    };\n    render(){\n        const { getFieldDecorator } = this.props.form;\n        const { checkingUser } = this.props\n        const formItemLayout = {\n            labelCol: {\n              xs: { span: 24 },\n              sm: { span: 8 },\n            },\n            wrapperCol: {\n              xs: { span: 24 },\n              sm: { span: 16 },\n            },\n          };\n          const tailFormItemLayout = {\n            wrapperCol: {\n              xs: {\n                span: 24,\n                offset: 0,\n              },\n              sm: {\n                span: 16,\n                offset: 8,\n              },\n            },\n          };\n        return(\n            <Form {...formItemLayout} onSubmit={this.handleSubmit} className=\"reg-form\">\n                <Form.Item label=\"E-mail\">\n                    {getFieldDecorator('email', {\n                        rules: [\n                        {\n                            type: 'email',\n                            message: 'The input is not valid E-mail!',\n                        },\n                        {\n                            required: true,\n                            message: 'Please input your E-mail!',\n                        },\n                        ],\n                    })(<Input />)}\n                </Form.Item>\n                <Form.Item label=\"Password\" hasFeedback>\n                    {getFieldDecorator('password', {\n                        rules: [\n                        {\n                            required: true,\n                            message: 'Please input your password!',\n                        },\n                        {\n                            validator: this.validateToNextPassword,\n                        },\n                        ],\n                    })(<Input.Password />)}\n                </Form.Item>\n                <Form.Item label=\"Confirm Password\" hasFeedback>\n                    {getFieldDecorator('confirm', {\n                        rules: [\n                        {\n                            required: true,\n                            message: 'Please confirm your password!',\n                        },\n                        {\n                            validator: this.compareToFirstPassword,\n                        },\n                        ],\n                    })(<Input.Password onBlur={this.handleConfirmBlur} />)}\n                </Form.Item>\n                <Form.Item\n                    label={\n                        <span>\n                        Nickname&nbsp;\n                        <Tooltip title=\"What do you want others to call you?\">\n                            <Icon type=\"question-circle-o\" />\n                        </Tooltip>\n                        </span>\n                    }\n                    >\n                    {getFieldDecorator('nickname', {\n                        rules: [{ \n                            required: true, \n                            message: 'Please input your nickname!'\n                        },{\n                            min: 4,\n                            message: 'Nickname must be 4 symbols minimum!'\n                        },{\n                            max: 10,\n                            message: 'Nickname must be 10 symbols maximum!'\n                        }],\n                    })(<Input />)}\n                </Form.Item>\n                <Form.Item {...tailFormItemLayout}>\n                    <Button type=\"primary\" disabled={checkingUser} htmlType=\"submit\">\n                        Register {checkingUser? <Icon type=\"loading\" /> : null}\n                    </Button>\n                </Form.Item>\n            </Form>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n      isAuth: state.userStatus.isAuth,\n      isFailed: state.userStatus.isFailed,\n      error: state.userStatus.error,\n      checkingUser: state.userStatus.checkingUser,\n      signUpSuccess: state.userStatus.signUpSuccess\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n      userSignup: ({nickname, password, email}) => dispatch(userSignup(nickname, password, email))\n    }\n}\n  \nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(RegForm))\n","import React, { Component } from 'react'\nimport { Form } from 'antd'\nimport RegForm from './components/RegForm/RegForm';\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nclass RegPage extends Component{\n    \n    render(){\n        const { isAuth } = this.props\n        if (isAuth) {\n            return <Redirect to=\"/main\" />\n        }\n        const MainRegForm = Form.create()(RegForm)\n        return(\n            <div className=\"wrapper\">\n                <h1>The Registration Page</h1>\n                <MainRegForm />\n            </div>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n      isAuth: state.userStatus.isAuth\n    }\n  }\n \nexport default connect(mapStateToProps)(RegPage)","import React, { Component } from 'react'\nimport { Button, Icon } from 'antd'\nimport './GameArea.css'\nimport { connect } from 'react-redux'\nimport { getMovieData, updateScore } from '../../../store/actions/game'\nimport io from 'socket.io-client'\nlet socket = null\nclass GameArea extends Component{\n    constructor(props){\n        super(props)\n        socket = io.connect('https://knowyourmovie.herokuapp.com')\n    }\n    state = {\n        answered: false\n    }\n    componentWillMount = () => {\n        this.props.getMovieData(socket)\n    }\n    componentWillUnmount() {\n        socket.disconnect()\n    }\n    checkTheAnswer = (e) => {\n        this.setState({\n            answered: true\n        })\n        \n        let answer = this.props.gameData.movies.find((item) => item.answer === true)\n        let btnAnswer = e.target.style\n        if(answer.title === e.target.name){        \n            btnAnswer.background = \"#179317\"\n            btnAnswer.borderColor = \"green\"\n            this.props.updateScore(this.props.userId, socket)\n        }\n        else{\n            btnAnswer.background = \"#ef2f2f\"\n            btnAnswer.borderColor = \"red\"\n            let correctButton = document.getElementsByClassName(answer.mdb_id.toString())\n            correctButton[0].style.background = \"#179317\"\n            correctButton[0].style.borderColor = \"green\"\n        }\n    }\n    nextQuestion = (e) => {\n        this.setState({\n            answered: false\n        })\n        this.props.getMovieData(socket)\n    }\n    \n    render(){\n        const { isLoading, isLoaded, gameData } = this.props\n        if (isLoading) return <div><Icon type=\"loading\" style={{fontSize: \"50px\", color: \"#00305e\"}} /></div>\n        if (!isLoaded || !gameData) return null\n        \n        return(\n            <article className=\"game-area\">\n                <h1>Choose the correct movie title</h1>\n                <div className=\"game-img\" style={{background : `url(\"${gameData.imageURL}\") no-repeat`}} /> \n                <div className=\"button-answers\">\n                    {gameData.movies.map((item)=> \n                        <Button \n                            type=\"primary\" \n                            disabled={this.state.answered} \n                            key={item.mdb_id}\n                            className={item.mdb_id.toString()}\n                            name={item.title} \n                            onClick={this.checkTheAnswer}> \n                            {item.title}\n                        </Button>\n                    )}\n                </div>\n                <Button style={{display: this.state.answered ? \"block\" : \"none\" }} onClick={this.nextQuestion} className=\"next-button\" >Next</Button>\n            </article>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n      gameData: state.gameData.data,\n      isLoading: state.gameData.isLoading,\n      isLoaded: state.gameData.isLoaded,\n      userId: state.userStatus.userData.userId,\n      username: state.userStatus.userData.username\n    }\n  }\n  const mapDispatchToProps = (dispatch) => {\n    return {\n      getMovieData: (socket) => dispatch(getMovieData(socket)),\n      updateScore: (userId, socket) => dispatch(updateScore(userId, socket))\n      \n\n    }\n  }\n\n  export default connect(mapStateToProps,mapDispatchToProps)(GameArea)","const gameData = () => ({\n        type: 'GET_DATA'\n})\nconst gameDataSuccsess = (payload) => ({\n        type: 'GET_DATA_SUCCESS',\n        payload\n})\nconst scoreUpdated = (payload) => ({\n        type: 'SCORE_UPDATED',\n        payload\n})\nexport const updateScore = (userId, socket) => {\n    return (dispatch) => {\n        socket.emit('updateScore', userId, (data) => dispatch(scoreUpdated(data)))\n    }\n}\n\nexport const getMovieData = (socket) => {\n    return (dispatch) => {\n        dispatch(gameData())\n        socket.emit('getGame', (data) => dispatch(gameDataSuccsess(data)))\n    }\n}","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport GameArea from './components/GameArea/GameArea';\n\nclass GamePage extends Component{ \n    render(){\n        const { isAuth } = this.props\n        if (!isAuth) {\n            return <Redirect to=\"/auth\" />\n        }\n        return(\n                <div className=\"wrapper\">\n                    <GameArea />\n                </div>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n      isAuth: state.userStatus.isAuth\n    }\n  }\n \nexport default connect(mapStateToProps)(GamePage)","import React, { Component } from 'react'\nimport { Button, Icon } from 'antd'\nimport './CoopGameArea.css'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom' \nimport { \n    getPlayersList, \n    invitePlayer, \n    gotInvite, \n    readyForGame, \n    exitGame, \n    gameData, \n    nextMovie, \n    updateScore, \n    gotaWinner,\n    globalScoreUpdate,\n    removeOpponent,\n    canceledGame } from '../../../store/actions/multiplayerGame'\nimport io from 'socket.io-client'\nlet socket = null\n\nclass CoopGameArea extends Component{\n    constructor(props){\n        super(props)\n        socket = io.connect('https://knowyourmovie.herokuapp.com')\n        socket.emit('multiConnect', {username: this.props.username, userId: this.props.userId})\n\n        socket.on('gamers', (data) => this.props.getPlayersList(data))\n\n        socket.on('gotInvite', (data) => this.props.gotInvite(data))\n\n        socket.on('getGameTask', (data) => this.props.movieData(data))\n\n        socket.on('gotaWinner', (data) => this.props.gotaWinner(data))\n\n        socket.on('updateUserScore', (data) => this.props.globalScoreUpdate(data))\n\n        socket.on('opponentCanceled', () => this.props.canceledGame())\n    }\n    state = {\n        answered: false\n    }\n    componentWillUnmount() {\n        socket.disconnect()\n        this.props.exitGame()\n    }\n    checkTheAnswer = (e) => {\n        this.setState({\n            answered: true\n        })\n        let answer = this.props.gameData.movies.find((item) => item.answer === true)\n        let btnAnswer = e.target.style\n        if(answer.title === e.target.name){        \n            btnAnswer.background = \"#179317\"\n            btnAnswer.borderColor = \"green\"\n            btnAnswer.color = \"white\"            \n            this.props.updateScore(this.props.playerScore + 10)\n        }\n        else{\n            btnAnswer.background = \"#ef2f2f\"\n            btnAnswer.borderColor = \"red\"\n            btnAnswer.color = \"white\"\n            let correctButton = document.getElementsByClassName(answer.mdb_id.toString())[0]\n            correctButton.style.background = \"#179317\"\n            correctButton.style.borderColor = \"green\"\n            correctButton.style.color = \"white\"\n            this.props.updateScore(this.props.playerScore - 5)\n        }\n    }\n    nextQuestion = (e) => {\n        this.setState({\n            answered: false\n        })\n        this.props.nextMovie(socket, this.props.playerScore)\n    }\n    gamerWinner = () => (\n        <>\n            <h1>Congratulations!</h1> <p>You are a winner! You got a 200 points.</p>\n        </>\n    )\n    opponentWinner = (props) => (\n        <>\n            <h1>{props.opponent} is a winner</h1> <p>Better luck next time =(</p>\n        </>\n    )\n    drawResult = () => (\n        <>\n            <h1>Its draw</h1><p>Both got a 100 points.</p>\n        </>\n    )\n\n    render(){\n        const { gamers, opponent, playerReady, gameData, dataIsLoading, waitingForOpponent, username, playerScore, winner } = this.props\n        \n        if(!gamers) return <div><Icon type=\"loading\" style={{fontSize: \"50px\", color: \"#00305e\"}} /></div>\n        \n        if(playerReady && opponent && !gameData) return <div><Icon type=\"loading\" style={{fontSize: \"50px\", color: \"#00305e\"}} /></div>\n        \n        if(winner) return (\n            <article className=\"game-area\">\n                {winner.draw ? <this.drawResult /> : \n                    winner.username === username ? <this.gamerWinner /> : \n                        <this.opponentWinner opponent = {opponent.username}/>\n                }\n                <Button type=\"primary\" onClick={() => this.props.history.push('/main')}>Main menu</Button>\n            </article>\n        )\n        \n        if(playerReady && opponent && gameData) return (\n                <article className=\"game-area\">\n                    <div className=\"game-info\">\n                        <div><p>Your score:</p><p style={{fontSize: \"20px\"}}>{playerScore}</p></div>\n                        <div><p>Game</p> <p style={{fontSize: \"20px\"}}>{gameData.gameNumber} of 10</p></div>\n                        <div><p>{opponent.username}</p><p style={{fontSize: \"20px\"}}>{opponent.score}</p></div>\n                    </div>\n                    {dataIsLoading ? <Icon type=\"loading\" style={{fontSize: \"50px\", color: \"#00305e\"}} /> : \n                        <>\n                            <div className=\"game-img\" style={{background : `url(\"${gameData.imageURL}\") 50% 50% no-repeat`}} /> \n                            <div className=\"button-answers\">\n                                {gameData.movies.map((item)=> \n                                    <Button \n                                        type=\"primary\" \n                                        disabled={this.state.answered || waitingForOpponent} \n                                        key={item.mdb_id}\n                                        className={item.mdb_id.toString()}\n                                        name={item.title} \n                                        onClick={this.checkTheAnswer}> \n                                        {item.title}\n                                    </Button>\n                                )}\n                            </div>\n                        </>\n                    }\n                    <Button \n                        type=\"primary\" \n                        style={{cursor: \"pointer\", display: this.state.answered || waitingForOpponent ? \"block\" : \"none\" }}\n                        disabled={waitingForOpponent} \n                        onClick={this.nextQuestion} \n                        className=\"next-button\" >\n                            {waitingForOpponent ? \"Waiting for opponent answer...\" : \"Next\"}\n                    </Button>\n                </article>\n            )\n        \n        return(\n            <article className=\"gamers-list\">\n                <h2>Choose your opponent</h2>\n                {opponent? \n                    <div style={{margin: \"5px\"}} >\n                        <Button \n                            type=\"primary\" \n                            onClick={() => this.props.readyForGame(socket)}>\n                                Accept {opponent.username}\n                        </Button>\n                        <Button \n                            type=\"primary\" \n                            style={{float: \"right\"}} \n                            onClick={() => this.props.removeOpponent(socket)}>\n                                Dismiss\n                        </Button>\n                    </div> : null\n                }\n                {waitingForOpponent? \n                    <div>\n                        <span>Waiting for opponent...</span>\n                        <Button \n                            type=\"primary\" \n                            size={\"small\"} \n                            style={{float: \"right\"}} \n                            onClick={() => this.props.removeOpponent(socket)}>\n                                Cancel\n                        </Button>\n                    </div> : null\n                }\n                {gamers.length === 1? <p style={{fontSize: \"16px\"}}>There are no players online </p> : \n                    gamers.map(item => \n                        <div key={item.userId} style={{display: item.nick === username? \"none\" : \"block\" }}>{item.nick} \n                            <Button \n                                type=\"primary\" \n                                disabled={item.ready || waitingForOpponent || opponent || item.waiting} \n                                style={{float: \"right\", visibility: item.nick === username ? \"hidden\": \"visible\", cursor: \"pointer\"}} \n                                size={\"small\"} \n                                onClick={() => this.props.invitePlayer(socket, item.id)}>\n                                    Invite\n                            </Button>\n                        </div>\n                    )\n                }\n            </article>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n      gamers: state.multiplayerGameStatus.gamers,\n      opponent: state.multiplayerGameStatus.opponent,\n      userId: state.userStatus.userData.userId,\n      username: state.userStatus.userData.username,\n      playerReady: state.multiplayerGameStatus.playerReady,\n      dataIsLoading: state.multiplayerGameStatus.dataIsLoading,\n      gameData: state.multiplayerGameStatus.data,\n      waitingForOpponent: state.multiplayerGameStatus.waitingForOpponent,\n      playerScore: state.multiplayerGameStatus.gameScore,\n      winner: state.multiplayerGameStatus.winner\n    }\n  }\n  const mapDispatchToProps = (dispatch) => {\n    return {\n      getPlayersList: (data) => dispatch(getPlayersList(data)),\n      invitePlayer: (socket, opponent) => dispatch(invitePlayer(socket, opponent)),\n      gotInvite: (data) => dispatch(gotInvite(data)),\n      readyForGame: (socket) => dispatch(readyForGame(socket)),\n      exitGame: () => dispatch(exitGame()),\n      movieData: (data) => dispatch(gameData(data)),\n      nextMovie: (socket, data) => dispatch(nextMovie(socket, data)),\n      updateScore: ( data) => dispatch(updateScore( data)),\n      gotaWinner: (data) => dispatch(gotaWinner(data)),\n      globalScoreUpdate: (data) => dispatch(globalScoreUpdate(data)),\n      removeOpponent: (socket) => dispatch(removeOpponent(socket)),\n      canceledGame: () => dispatch(canceledGame())\n        \n    }\n  }\n\n  export default connect(mapStateToProps,mapDispatchToProps)(withRouter(CoopGameArea))\n","const waitForOpponent = () => ({type: 'WAITING_FOR_OPPONENT'})\n\nconst gotOpponent = (payload) => ({type: 'GOT_OPPONENT', payload})\n\nconst getData = () => ({type: 'GET_DATA'})\n\nconst opponentCanceled = () => ({type: 'GAME_CANCELED'})\n\nconst playerReady = () => ({type: 'PLAYER_READY'})\n\nconst clearOpponent = () => ({type: 'REMOVE_OPPONENT'})\n\nconst updOpponentsScore = (payload) => ({type: 'OPPONENST_SCORE_UPDATE', payload})\n\nconst winner = (payload) => ({type: 'GOT_A_WINNER', payload})\n\nconst getDataSuccess = (payload) => ({type: 'DATA_SUCCESS',payload})\n\nconst sessionScoreUpdate = (payload) => ({type: 'UPDATE_SCORE', payload})\n\nconst scoreUpdate = (payload) => ({type: 'SCORE_UPDATED', payload})\n\nconst endGame = () => ({type: 'EXIT_GAME'})\n\nconst playersList = (payload) => ({type: 'GET_PLAYERS_LIST', payload})\n\nexport const getPlayersList = (data) => {\n    return (dispatch) => {\n        dispatch(playersList(data))\n    }\n}\nexport const invitePlayer = (socket, opponent) => {\n    return (dispatch) => {\n        dispatch(waitForOpponent())\n        socket.emit('invite', opponent, (data) => {\n        })\n        socket.emit('readyForGame')\n        dispatch(playerReady())\n\n    }\n}\nexport const gotInvite = (data) => {\n    return (dispatch) => {\n        dispatch(gotOpponent(data))\n    }\n}\nexport const readyForGame =(socket) => {\n    return (dispatch) => {\n        dispatch(playerReady())\n        socket.emit('readyForGame')\n    }\n}\nexport const nextMovie = (socket, data)=> {\n    return (dispatch) => {\n        dispatch(waitForOpponent())\n        socket.emit('nextMovie', (data))\n    }\n}\nexport const updateScore = (data) => {\n    return (dispatch) => {\n        dispatch(sessionScoreUpdate(data))\n    }\n}\nexport const removeOpponent = (socket) => {\n    return (dispatch) => {\n        dispatch(clearOpponent())\n        dispatch(opponentCanceled())\n        socket.emit('cancelGame')\n    }\n}\nexport const canceledGame = () => {\n    return (dispatch) => {\n        dispatch(opponentCanceled())\n    }\n}\nexport const exitGame =() => {\n    return (dispatch) => {\n        dispatch(endGame())\n    }\n}\nexport const gameData =({data, score}) => {\n    return (dispatch) => {\n        if(score) dispatch(updOpponentsScore(score))\n        dispatch(getData())\n        dispatch(getDataSuccess(data))\n    }\n}\nexport const gotaWinner = (data) => {\n    return(dispatch) => {\n        dispatch(winner(data))\n    }\n}\nexport const globalScoreUpdate = (data) => {\n    return (dispatch) => {\n        dispatch(scoreUpdate(data))\n    }\n}\n\n\n","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport CoopGameArea from './components/CoopGameArea/CoopGameArea';\n\nclass MultiGamePage extends Component{ \n    render(){\n        const { isAuth } = this.props\n        if (!isAuth) {\n            return <Redirect to=\"/auth\" />\n        }\n        return(\n                <div className=\"wrapper\">\n                    <CoopGameArea />\n                </div>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n      isAuth: state.userStatus.isAuth\n    }\n  }\n \nexport default connect(mapStateToProps)(MultiGamePage)","import React from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport configureStore from './store/configureStore'\n\nimport MainPage from './pages/Main';\nimport AuthPage from './pages/Auth';\nimport NavBar from './pages/components/NavBar/NavBar';\nimport RegPage from './pages/Register';\nimport GamePage from './pages/Game';\nimport MultiplayerGame from './pages/MultiplayerGame';\n\nconst store = configureStore()\nstore.subscribe(() => {\n  store.getState();\n});\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <NavBar />\n        <Switch>\n          <Redirect from=\"/\" to=\"/main\" exact/>\n          <Route path=\"/main\" component={MainPage} />\n          <Route path=\"/auth\" component={AuthPage} />\n          <Route path=\"/signup\" component={RegPage} />\n          <Route path=\"/single-game\" component={GamePage} />\n          <Route path=\"/multiplayer-game\" component={MultiplayerGame} />\n        </Switch>\n      </Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}